<mat-card>
  <form [formGroup]="userForm">

    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Nome</mat-label>
      <input type="text" matInput formControlName="nome" placeholder="João">
      <mat-error *ngIf="userForm.get('nome')!.hasError('required')">Insira um nome.</mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Sobrenome</mat-label>
      <input type="text" matInput formControlName="sobrenome" placeholder="Silva">
      <mat-error *ngIf="userForm.get('sobrenome')!.hasError('required')">Insira um sobrenome.</mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Email</mat-label>
      <input type="email" matInput formControlName="email" placeholder="joaosilva@email.com">
      <mat-error *ngIf="userForm.get('email')!.hasError('email') && !userForm.get('email')!.hasError('required')">Insira um email válido.</mat-error>
      <mat-error *ngIf="userForm.get('email')!.hasError('required')">Insira um email.</mat-error>
    </mat-form-field>


    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>CPF</mat-label>
      <input type="string" matInput formControlName="cpf" cpf [textMask]="{mask: masks.cpf.textMask}" placeholder="123.456.789-10">
      <mat-error *ngIf="userForm.get('cpf')!.hasError('cpf') && !userForm.get('cpf')!.hasError('required')">Insira um CPF válido.</mat-error>
      <mat-error *ngIf="userForm.get('cpf')!.hasError('required')">Insira um CPF.</mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Cidade</mat-label>
      <input type="text" matInput formControlName="cidade" placeholder="Sorocaba">
      <mat-error *ngIf="userForm.get('cidade')!.hasError('required')">Insira uma cidade.</mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>Estado</mat-label>
      <input type="text" matInput formControlName="estado" placeholder="São Paulo">
      <mat-error *ngIf="userForm.get('estado')!.hasError('required')">Insira um estado.</mat-error>
    </mat-form-field>

    <mat-form-field class="example-full-width" appearance="fill">
      <mat-label>CEP</mat-label>
      <input cep [textMask]="{mask: masks.cep.textMask}" type="string" matInput formControlName="cep" placeholder="123456-789">
      <mat-error *ngIf="userForm.get('cep')!.hasError('cep') && !userForm.get('cep')!.hasError('required')">Insira um CEP válido.</mat-error>
      <mat-error *ngIf="userForm.get('cep')!.hasError('required')">Insira um cep.</mat-error>
    </mat-form-field>
  </form>
  <div class="buttons">
    <button mat-flat-button color="primary" *ngIf="!userID" (click)="createUser()">Criar usuário</button>
    <button mat-flat-button color="primary" *ngIf="userID" (click)="updateUser()">Atualizar usuário</button>
    <button mat-flat-button color="warn" *ngIf="userID" (click)="deleteUser()">Deletar usuário</button>
  </div>
</mat-card>
